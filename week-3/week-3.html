<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>week1.2</title>
        <link rel="stylesheet" type="text/css" href="week1.4.css" />
    </head>

    <body>
        
        <div class="mywebsite">
            <div class="left">My Website</div>
            <div  class="menu">
                <img  src="humburger.png" width="30px" height="30px" />
            </div>    
            <div class="right">
                <div class="item">Item 1</div>
                <div class="item">Item 2</div>
                <div class="item">Item 3</div>
                <div class="item">Item 4</div>
            </div>
        </div>

        <div class="welcome">
            <div class="welcometomyhome">Welcome to MyHome</div>
        </div>
        <div class="frame">
            <div class="pixel">
                <div class="first">
                    <div class="pomotion">
                        <div class="small"></div>
                        <!-- <img class="small" height="50px" width="80px" /> -->
                        <span class="smallright"></span>
                    </div>
                    <!-- <div class="pomotion">這個是最原始的版本，保留一下
                        <img class="small"  src="image.jpg" height="50px" width="80px">
                         <div class="smallright">Pomotion 2</div>
                    </div> -->
                    <div class="pomotion">
                        <div class="small" ></div>
                           <!-- <img class="small" height="50px" width="80px"> -->
                       <span class="smallright"></span>
                   </div>
                </div>

                <div class="grid">
                
                <div class="col">
                    <div class="img"></div>
                    <!-- <img  src="image.jpg"/> -->
                    <div class="title"></div>
                </div>
                <div class="col">
                    <div class="img"></div>
                    <!-- <img  src="image.jpg"/> -->
                    <div class="title"></div>
                </div>
                <div class="col">
                    <div class="img"></div>
                    <!-- <img  src="image.jpg"/> -->
                    <div class="title"></div>
                </div>
                <div class="col">
                    <div class="img"></div>
                    <!-- <img  src="image.jpg"/> -->
                    <div class="title"></div>
                </div>
                <div class="col">
                    <div class="img"></div>
                    <!-- <img  src="image.jpg"/> -->
                    <div class="title"></div>
                </div>
                <div class="col">
                    <div class="img"></div>
                    <!-- <img  src="image.jpg"/> -->
                    <div class="title"></div>
                </div>
                <div class="col">
                    <div class="img"></div>
                    <!-- <img  src="image.jpg"/> -->
                    <div class="title"></div>
                </div>
                <div class="col">
                    <div class="img"></div>
                    <!-- <img  src="image.jpg"/> -->
                    <div class="title"></div>
                </div>
                </div>
            </div>
        </div>
        <script>
            let src="https://padax.github.io/taipei-day-trip-resources/taipei-attractions-assignment.json";
            fetch(src).then(function(response){
               //return response.text();// 用字串的方式取回資料
               return response.json();//將資料用 JSON 的格式詮釋成物件和陣列的組合
            }).then(function(result){
               console.log("最終的資料",result);
               let data=result.result.results;

               //取出需要的資料，景點名稱和第一張圖址
               //把迴圈中取出來的資料，放進 array,才可以在其他迴圈中拿資料
               //要很注意是要寫在迴圈內，還是迴圈外面，會有不同的結果，很重要
               let stitlearr=[]
               let firstjpgarr=[] 
               for(let i=0;i<data.length;i++){
                    let stitle=data[i].stitle
                    //.push的方式去把資料推進列表中
                    let stitlearrdata=stitlearr.push(stitle)
                    let file=data[i].file
                    let firstjpg=file.toLowerCase().split("jpg",1)+"jpg";
                    let firstjpgarrdata=firstjpgarr.push(firstjpg)
               }
               for(let j=0;j<2;j++){
                    let z=document.querySelectorAll(".pomotion");
                    let x= document.querySelectorAll(".small");
                    let y= document.querySelectorAll(".smallright");    
                    let newpomotiondiv=document.createElement("div");
                    let newpomotion=document.createElement("img");
                    //newpomotion.className="small" //幫元素加 css 
                    newpomotion.setAttribute("src",firstjpgarr[j]);
                    newpomotion.className="anothersmall"
                    let smalltext=document.createElement("span");
                    smalltext.textContent=stitlearr[j];
                    x[j].appendChild(newpomotion);
                    y[j].appendChild(smalltext);
                }
               for(let k=0;k<15;k++){
                    let a=document.querySelectorAll(".col");
                    let b= document.querySelectorAll(".img");
                    let c= document.querySelectorAll(".title");    
                    let newcol=document.createElement("div");
                    let newimg=document.createElement("img");
                    newimg.setAttribute("src",firstjpgarr[k+2]);
                    //newimg.setAttribute("aspect-ratio",4/3)
                    newimg.className="imgtwo"
                    let newtitle=document.createElement("div")
                    newtitle.textContent=stitlearr[k+2]
                    b[k].appendChild(newimg) 
                    c[k].appendChild(newtitle)
                }
            });
           </script>
    </body>
</html>